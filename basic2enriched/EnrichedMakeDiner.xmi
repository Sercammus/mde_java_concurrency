<?xml version="1.0" encoding="UTF-8"?>
<em:EnrichedModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:em="enrichedModel" xsi:schemaLocation="enrichedModel metamodels/EnrichedModel.ecore">
  <instanceTypes name="Main">
    <methods name="waitForMeatThread" isStatic="true" parameters="//@methodParameters.9" startStateId="1">
      <states xsi:type="em:YieldState" id="1">
        <jumps nextState="//@instanceTypes.0/@methods.0/@states.1"/>
      </states>
      <states id="2">
        <jumps condition="[meat is done]" nextState="//@instanceTypes.0/@methods.0/@states.2"/>
        <jumps nextState="//@instanceTypes.0/@methods.0/@states.0"/>
      </states>
      <states xsi:type="em:InterruptState" id="3" interruptedThread="//@methodParameters.9"/>
    </methods>
    <methods name="turnMeat" isStatic="true" startStateId="-1"/>
    <methods name="turnMeatThread" isStatic="true" startStateId="1">
      <states xsi:type="em:SleepState" id="1" duration="10">
        <jumps nextState="//@instanceTypes.0/@methods.2/@states.1"/>
      </states>
      <states xsi:type="em:MethodCallState" id="2" calledMethod="//@instanceTypes.0/@methods.1">
        <jumps nextState="//@instanceTypes.0/@methods.2/@states.0"/>
      </states>
    </methods>
    <methods name="putMeatInPan" isStatic="true" startStateId="-1"/>
    <methods name="prepareMeatThread" isStatic="true" startStateId="1">
      <states xsi:type="em:MethodCallState" id="1" calledMethod="//@instanceTypes.0/@methods.3">
        <jumps nextState="//@instanceTypes.0/@methods.4/@states.1"/>
      </states>
      <states xsi:type="em:ForkState" id="2">
        <threadInits calledMethod="//@instanceTypes.0/@methods.2"/>
        <threadInits calledMethod="//@instanceTypes.0/@methods.0"/>
      </states>
    </methods>
    <methods name="mix" isStatic="true" startStateId="-1"/>
    <methods name="addRice" isStatic="true" startStateId="-1"/>
    <methods name="addRiceThread" isStatic="true" startStateId="1">
      <states xsi:type="em:MethodCallState" id="1" calledMethod="//@instanceTypes.0/@methods.6">
        <jumps nextState="//@instanceTypes.0/@methods.21/@states.3"/>
      </states>
    </methods>
    <methods name="addHerbs" isStatic="true" startStateId="-1"/>
    <methods name="addHerbsThread" isStatic="true" startStateId="1">
      <states xsi:type="em:MethodCallState" id="1" calledMethod="//@instanceTypes.0/@methods.8"/>
    </methods>
    <methods name="takeRiceFromWater" isStatic="true" startStateId="-1"/>
    <methods name="putRiceInWater" isStatic="true" startStateId="-1"/>
    <methods name="cookWater" isStatic="true" startStateId="-1"/>
    <methods name="riceThread" isStatic="true" startStateId="1">
      <states xsi:type="em:MethodCallState" id="1" calledMethod="//@instanceTypes.0/@methods.12">
        <jumps nextState="//@instanceTypes.0/@methods.13/@states.1"/>
      </states>
      <states xsi:type="em:SleepState" id="2" duration="600">
        <jumps nextState="//@instanceTypes.0/@methods.13/@states.2"/>
      </states>
      <states xsi:type="em:MethodCallState" id="3" calledMethod="//@instanceTypes.0/@methods.11">
        <jumps nextState="//@instanceTypes.0/@methods.13/@states.3"/>
      </states>
      <states xsi:type="em:SleepState" id="4" duration="600">
        <jumps nextState="//@instanceTypes.0/@methods.13/@states.4"/>
      </states>
      <states xsi:type="em:MethodCallState" id="5" calledMethod="//@instanceTypes.0/@methods.10">
        <jumps nextState="//@instanceTypes.0/@methods.21/@states.1"/>
      </states>
    </methods>
    <methods name="meatThread" isStatic="true" startStateId="1">
      <states xsi:type="em:MethodCallState" id="1" calledMethod="//@instanceTypes.0/@methods.4"/>
    </methods>
    <methods name="addVegetablesToMeat" isStatic="true" startStateId="-1"/>
    <methods name="cutVegetables" isStatic="true" startStateId="-1"/>
    <methods name="vegetablesThread" isStatic="true" startStateId="1">
      <states xsi:type="em:MethodCallState" id="1" calledMethod="//@instanceTypes.0/@methods.16">
        <jumps nextState="//@instanceTypes.0/@methods.18/@states.1"/>
      </states>
    </methods>
    <methods name="cookThread" isStatic="true" startStateId="1">
      <states xsi:type="em:ForkState" id="1">
        <threadInits calledMethod="//@instanceTypes.0/@methods.17"/>
        <threadInits calledMethod="//@instanceTypes.0/@methods.14"/>
      </states>
      <states xsi:type="em:JoinState" id="2" joinedThreads="//@methodParameters.0">
        <jumps nextState="//@instanceTypes.0/@methods.18/@states.2"/>
      </states>
      <states xsi:type="em:MethodCallState" id="3" calledMethod="//@instanceTypes.0/@methods.15">
        <jumps nextState="//@instanceTypes.0/@methods.18/@states.3"/>
      </states>
      <states xsi:type="em:YieldState" id="4">
        <jumps nextState="//@instanceTypes.0/@methods.18/@states.4"/>
      </states>
      <states id="5">
        <jumps condition="[vegetables are done]"/>
      </states>
    </methods>
    <methods name="makeTable" isStatic="true" startStateId="-1"/>
    <methods name="makeTableThread" isStatic="true" startStateId="1">
      <states xsi:type="em:MethodCallState" id="1" calledMethod="//@instanceTypes.0/@methods.19"/>
    </methods>
    <methods name="main" isStatic="true" startStateId="1">
      <states xsi:type="em:ForkState" id="1">
        <threadInits calledMethod="//@instanceTypes.0/@methods.20"/>
        <threadInits calledMethod="//@instanceTypes.0/@methods.13"/>
        <threadInits calledMethod="//@instanceTypes.0/@methods.18"/>
      </states>
      <states xsi:type="em:JoinState" id="2" joinedThreads="//@methodParameters.6">
        <jumps nextState="//@instanceTypes.0/@methods.21/@states.2"/>
      </states>
      <states xsi:type="em:ForkState" id="3">
        <threadInits calledMethod="//@instanceTypes.0/@methods.9"/>
        <threadInits calledMethod="//@instanceTypes.0/@methods.7"/>
      </states>
      <states xsi:type="em:JoinState" id="4" joinedThreads="//@methodParameters.5">
        <jumps nextState="//@instanceTypes.0/@methods.21/@states.4"/>
      </states>
      <states xsi:type="em:MethodCallState" id="5" calledMethod="//@instanceTypes.0/@methods.5"/>
    </methods>
  </instanceTypes>
  <methodParameters xsi:type="em:Thread" name="var$meatThread"/>
  <methodParameters xsi:type="em:Thread" name="var$riceThread"/>
  <methodParameters xsi:type="em:Thread" name="var$waitForMeatThread"/>
  <methodParameters xsi:type="em:Thread" name="var$addRiceThread"/>
  <methodParameters xsi:type="em:Thread" name="var$makeDinerThread"/>
  <methodParameters xsi:type="em:Thread" name="var$addHerbsThread"/>
  <methodParameters xsi:type="em:Thread" name="var$cookThread"/>
  <methodParameters xsi:type="em:Thread" name="var$vegetablesThread"/>
  <methodParameters xsi:type="em:Thread" name="var$makeTableThread"/>
  <methodParameters xsi:type="em:Thread" name="var$turnMeatThread"/>
</em:EnrichedModel>
